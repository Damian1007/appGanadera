<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="login"></ion-back-button>
    </ion-buttons>
    
    <ion-title>Registrarse</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="form" novalidate (ngSubmit)="registro()">
    <ion-list>
      <ion-item>
        <ion-label position="stacked">Correo Electronico</ion-label>
        <ion-input type="email" formControlName="correo"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.correo.errors?.required">
        El correo es obligatorio.
      </span>

      <span class="error" *ngIf="isSubmitted && errorControl.correo.errors?.pattern">
        Debe ingresar un correo valido.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Nombre</ion-label>
        <ion-input formControlName="nombre"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.nombre.errors?.required">
        El nombre es obligatorio.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Apellido</ion-label>
        <ion-input formControlName="apellido"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.apellido.errors?.required">
        El apellido es obligatorio.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Contraseña</ion-label>
        <ion-input type="password" formControlName="contrasena"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.contrasena.errors?.required">
        La contraseña es obligatoria.
      </span>

      <span class="error" *ngIf="isSubmitted && errorControl.contrasena.errors?.minlength">
        Debe tener un minimo de 8 caracteres.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Confirmar Contraseña</ion-label>
        <ion-input type="password" formControlName="confirmarContrasena"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.confirmarContrasena.errors?.required">
        La confirmación de contraseña es obligatoria.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">País</ion-label>
        <ion-input formControlName="pais"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.pais.errors?.required">
        El pais es obligatorio.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Teléfono</ion-label>
        <ion-input type="tel" formControlName="telefono"></ion-input>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.telefono.errors?.required">
        El telefono es obligatorio.
      </span>

      <span class="error" *ngIf="isSubmitted && errorControl.telefono.errors?.minlength">
        Debe ser un telefono valido.
      </span>

      <span class="error" *ngIf="isSubmitted && errorControl.telefono.errors?.maxlength">
        Debe ser un telefono valido.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Departamento</ion-label>
        <ion-select formControlName="departamento" placeholder="Selecciona un departamento" (ionChange)="dptoChange($event)">
          <ion-select-option *ngFor="let departamento of departamentos" [value]="departamento"> {{departamento.depto}} </ion-select-option>
        </ion-select>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.departamento.errors?.required">
        El Departamento es obligatorio.
      </span>
      <!---------------------------------------------------------------------------------------------->

      <ion-item>
        <ion-label position="stacked">Municipio</ion-label>
        <ion-select formControlName="ciudad" placeholder="Selecciona un municipio" (ionChange)="ciudadChange($event)">
          <ion-select-option *ngFor="let ciudad of ciudadesAux" [value]="ciud"> {{ciudad.Ciudad}} </ion-select-option>
        </ion-select>
      </ion-item>

      <!---------------------------------- Error de Validadores -------------------------------------->
      <span class="error" *ngIf="isSubmitted && errorControl.ciudad.errors?.required">
        La ciudad es obligatoria.
      </span>
      <!---------------------------------------------------------------------------------------------->
    </ion-list>

    <ion-row>
      <ion-col>
        <ion-button type="submit" expand="block">Registrarse</ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>